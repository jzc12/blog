import{_ as O,r as g,d as T,e as I,o as n,c as p,b as e,f as v,t as c,n as P,g as E,w as D,T as V,h as a,F as R,i as k}from"./index-e53a4dd0.js";import{f as x,d as b}from"./dayjs.min-00d3f4f1.js";const w={name:"CategoryList",setup(){const d=g([]),s=g(!0),_=g(0),l=T(()=>[...d.value].sort((o,i)=>{const r=new Date(i.date)-new Date(o.date);return r!==0?r:o.title.localeCompare(i.title)}));return(async()=>{s.value=!0,_.value=0;try{const o=Object.assign({"/src/articles/Redis.md":()=>a(()=>import("./Redis-e9b33d17.js"),[]).then(t=>t.default),"/src/articles/TODO.md":()=>a(()=>import("./TODO-f10f0002.js"),[]).then(t=>t.default),"/src/articles/dl 报告.md":()=>a(()=>import("./dl 报告-5102d45c.js"),[]).then(t=>t.default),"/src/articles/ner_kge.md":()=>a(()=>import("./ner_kge-e2e896c4.js"),[]).then(t=>t.default),"/src/articles/nginx.md":()=>a(()=>import("./nginx-b1ad8ea9.js"),[]).then(t=>t.default),"/src/articles/nlp 报告.md":()=>a(()=>import("./nlp 报告-17c718dc.js"),[]).then(t=>t.default),"/src/articles/os.md":()=>a(()=>import("./os-69a885e0.js"),[]).then(t=>t.default),"/src/articles/球球了.md":()=>a(()=>import("./球球了-96d1e73d.js"),[]).then(t=>t.default),"/src/articles/算法.md":()=>a(()=>import("./算法-c02a8f26.js"),[]).then(t=>t.default),"/src/articles/设计模式.md":()=>a(()=>import("./设计模式-ca12d980.js"),[]).then(t=>t.default),"/src/articles/软件质量.md":()=>a(()=>import("./软件质量-8f625b65.js"),[]).then(t=>t.default)}),i=Object.keys(o),r=i.length;let y=0;const L=await Promise.all(i.map(async t=>{try{const u=await o[t](),{attributes:m,body:h}=x(u),f=t.split("/").pop().replace(".md","");return u.trim().startsWith("---")?{id:f,title:m.title||f,date:b(m.date).format("YYYY-MM-DD")||"未知日期",category:m.category||"未分类",summary:m.summary||h.slice(0,100)+"..."}:{id:f,title:f,date:"未知日期",category:"未分类",summary:h.slice(0,100)+"..."}}catch(u){return console.error(`加载文章失败: ${t}`,u),null}finally{y++,_.value=Math.round(y/r*100)}}));d.value=L.filter(Boolean)}catch(o){console.error("加载文章列表失败:",o)}finally{s.value=!1}})(),{articles:d,loading:s,progress:_,sortedArticles:l}}},C={class:"category-container"},B={key:0,class:"loading-box"},Y={class:"loading-text"},j={class:"progress-bar"},F={class:"article-list"},M={class:"article-header"},N={class:"article-title"},S={class:"category-tag"},z={class:"date-info"},G={class:"summary"},W={key:2,class:"no-articles"};function q(d,s,_,l,A,o){const i=I("router-link");return n(),p("div",C,[s[4]||(s[4]=e("div",{class:"h1"},[e("i",{class:"fas fa-folder-open"}),v(" 文章目录 ")],-1)),l.loading?(n(),p("div",B,[e("div",Y,[s[0]||(s[0]=e("i",{class:"fas fa-circle-notch"},null,-1)),v(" 正在加载文章："+c(l.progress)+"% ",1)]),e("div",j,[e("div",{class:"progress",style:P({width:l.progress+"%"})},null,4)])])):l.articles.length?(n(),E(V,{key:1,name:"list",tag:"div",class:"category-content"},{default:D(()=>[e("div",F,[(n(!0),p(R,null,k(l.sortedArticles,r=>(n(),E(i,{key:r.id,to:{name:"article",params:{articleId:r.id}},class:"article-item"},{default:D(()=>[e("div",M,[e("h3",N,c(r.title||r.id),1),e("div",S,[s[1]||(s[1]=e("i",{class:"fas fa-tag"},null,-1)),v(" "+c(r.category),1)]),e("div",z,[s[2]||(s[2]=e("i",{class:"far fa-calendar-alt"},null,-1)),e("span",null,c(r.date),1)])]),e("p",G,c(r.summary),1)]),_:2},1032,["to"]))),128))])]),_:1})):(n(),p("div",W,s[3]||(s[3]=[e("i",{class:"far fa-folder-open"},null,-1),v(" 暂无文章 ")])))])}const K=O(w,[["render",q],["__scopeId","data-v-cb46779e"]]);export{K as default};
