import{aw as x,ax as f,ay as w,az as M,aA as A,aB as N,o as n,c,b as o,aC as V,aD as u,aE as B,aF as S,aG as R,aH as z,aI as O,aJ as b,aK as e,aL as Y,aM as j,aN as F}from"./index-d1127b8f.js";import{f as G}from"./index-f683e8b8.js";const H={name:"CategoryList",setup(){const p=f([]),i=f(!0),E=f(0),s=f(1),g=f(6);w(()=>{const a=sessionStorage.getItem("categoryPage");a&&(s.value=Number(a))}),M(s,a=>{sessionStorage.setItem("categoryPage",a)});const h=A(()=>[...p.value].sort((a,_)=>{const l=new Date(_.date)-new Date(a.date);return l!==0?l:a.title.localeCompare(_.title)})),m=A(()=>Math.ceil(h.value.length/g.value)),r=A(()=>{const a=(s.value-1)*g.value;return h.value.slice(a,a+g.value)}),I=A(()=>{const a=[],_=m.value,l=s.value;if(_<=7)for(let d=1;d<=_;d++)a.push(d);else{a.push(1),l>4&&a.push("...");const d=Math.max(2,l-1),L=Math.min(_-1,l+1);for(let t=d;t<=L;t++)a.push(t);l<_-3&&a.push("..."),a.push(_)}return a}),P=a=>{a>=1&&a<=m.value&&(s.value=a)},k=()=>P(s.value-1),C=()=>P(s.value+1);return(async()=>{i.value=!0,E.value=0;try{const a=Object.assign({"/src/articles/Csharp.md":()=>e(()=>import("./Csharp-9745b8e3.js"),[]).then(t=>t.default),"/src/articles/adb.md":()=>e(()=>import("./adb-655c4d63.js"),[]).then(t=>t.default),"/src/articles/实习总结.md":()=>e(()=>import("./实习总结-f0ec00d1.js"),[]).then(t=>t.default),"/src/articles/操作系统_1.md":()=>e(()=>import("./操作系统_1-38b40070.js"),[]).then(t=>t.default),"/src/articles/操作系统_2.md":()=>e(()=>import("./操作系统_2-6dbddd73.js"),[]).then(t=>t.default),"/src/articles/操作系统_3.md":()=>e(()=>import("./操作系统_3-c96319da.js"),[]).then(t=>t.default),"/src/articles/操作系统_4.md":()=>e(()=>import("./操作系统_4-5052da3b.js"),[]).then(t=>t.default),"/src/articles/操作系统_5.md":()=>e(()=>import("./操作系统_5-99f114a8.js"),[]).then(t=>t.default),"/src/articles/数据结构_1.md":()=>e(()=>import("./数据结构_1-a024f0fd.js"),[]).then(t=>t.default),"/src/articles/数据结构_2.md":()=>e(()=>import("./数据结构_2-fc2e7c0d.js"),[]).then(t=>t.default),"/src/articles/数据结构_3.md":()=>e(()=>import("./数据结构_3-9c4715d9.js"),[]).then(t=>t.default),"/src/articles/数据结构_4.md":()=>e(()=>import("./数据结构_4-3c14e09f.js"),[]).then(t=>t.default),"/src/articles/球球了.md":()=>e(()=>import("./球球了-9a9756d3.js"),[]).then(t=>t.default),"/src/articles/线性代数和概率论.md":()=>e(()=>import("./线性代数和概率论-ced477a3.js"),[]).then(t=>t.default),"/src/articles/细碎知识.md":()=>e(()=>import("./细碎知识-3514ed75.js"),[]).then(t=>t.default),"/src/articles/计算机组成_1.md":()=>e(()=>import("./计算机组成_1-0ee16d4f.js"),[]).then(t=>t.default),"/src/articles/计算机组成_2.md":()=>e(()=>import("./计算机组成_2-647377b6.js"),[]).then(t=>t.default),"/src/articles/计算机组成_3.md":()=>e(()=>import("./计算机组成_3-536706a9.js"),[]).then(t=>t.default),"/src/articles/计算机组成_4.md":()=>e(()=>import("./计算机组成_4-d370e22e.js"),[]).then(t=>t.default),"/src/articles/计算机组成_5.md":()=>e(()=>import("./计算机组成_5-f2855e27.js"),[]).then(t=>t.default),"/src/articles/计算机组成_6.md":()=>e(()=>import("./计算机组成_6-7e90215d.js"),[]).then(t=>t.default),"/src/articles/计算机网络_1.md":()=>e(()=>import("./计算机网络_1-5692f7b7.js"),[]).then(t=>t.default),"/src/articles/计算机网络_3.md":()=>e(()=>import("./计算机网络_3-f4a458f2.js"),[]).then(t=>t.default),"/src/articles/计算机网络_4.md":()=>e(()=>import("./计算机网络_4-c81ef78b.js"),[]).then(t=>t.default),"/src/articles/计算机网络_5.md":()=>e(()=>import("./计算机网络_5-339381da.js"),[]).then(t=>t.default),"/src/articles/计算机网络_6.md":()=>e(()=>import("./计算机网络_6-c1d3ec6b.js"),[]).then(t=>t.default),"/src/articles/软件系统设计.md":()=>e(()=>import("./软件系统设计-d1a813aa.js"),[]).then(t=>t.default),"/src/articles/软件质量管理_1.md":()=>e(()=>import("./软件质量管理_1-4a727575.js"),[]).then(t=>t.default),"/src/articles/软件质量管理_2.md":()=>e(()=>import("./软件质量管理_2-df69909c.js"),[]).then(t=>t.default),"/src/articles/高等数学.md":()=>e(()=>import("./高等数学-fc205294.js"),[]).then(t=>t.default)}),_=Object.keys(a),l=_.length;let d=0;const L=await Promise.all(_.map(async t=>{try{const y=await a[t](),{attributes:v,body:T}=G(y),D=t.split("/").pop().replace(".md","");return y.trim().startsWith("---")?{id:D,title:v.title||D,date:v.updated?Y(v.updated).format("YYYY-MM-DD"):"未知日期",category:v.category||"未分类",summary:v.summary||T.slice(0,100)+"..."}:{id:D,title:D,date:"未知日期",category:"未分类",summary:T.slice(0,100)+"..."}}catch(y){return console.error(`加载文章失败: ${t}`,y),null}finally{d++,E.value=Math.round(d/l*100)}}));p.value=L.filter(Boolean)}catch(a){console.error("加载文章列表失败:",a)}finally{i.value=!1}})(),{articles:p,loading:i,progress:E,sortedArticles:h,paginatedArticles:r,currentPage:s,totalPages:m,pageNumbers:I,goPage:P,prevPage:k,nextPage:C}}},J={class:"category-container"},K={key:0,class:"loading-box"},W={class:"loading-text"},q={class:"progress-bar"},Q={key:1,class:"category-content"},U={class:"article-header"},X={class:"article-title"},Z={class:"category-tag"},$={class:"date-info"},tt={class:"summary"},et={key:2,class:"no-articles"},at={class:"pagination"},st=["disabled"],rt=["onClick"],ot=["disabled"];function it(p,i,E,s,g,h){const m=N("router-link");return n(),c(O,null,[o("div",J,[s.loading?(n(),c("div",K,[o("div",W,[i[2]||(i[2]=o("i",{class:"fas fa-circle-notch"},null,-1)),V(" 正在加载文章："+u(s.progress)+"% ",1)]),o("div",q,[o("div",{class:"progress",style:B({width:s.progress+"%"})},null,4)])])):s.articles.length?(n(),c("div",Q,[S(z,{name:"list",tag:"div",class:"article-list"},{default:R(()=>[(n(!0),c(O,null,b(s.paginatedArticles,r=>(n(),j(m,{key:r.id,to:{name:"article",params:{articleId:r.id}},class:"article-item"},{default:R(()=>[o("div",U,[o("h3",X,u(r.title||r.id),1),o("div",Z,[i[3]||(i[3]=o("i",{class:"fas fa-tag"},null,-1)),V(" "+u(r.category),1)]),o("div",$,[i[4]||(i[4]=o("i",{class:"far fa-calendar-alt"},null,-1)),o("span",null,u(r.date),1)])]),o("p",tt,u(r.summary),1)]),_:2},1032,["to"]))),128))]),_:1})])):(n(),c("div",et,i[5]||(i[5]=[o("i",{class:"far fa-folder-open"},null,-1),V(" 暂无文章 ")])))]),o("div",at,[o("button",{onClick:i[0]||(i[0]=(...r)=>s.prevPage&&s.prevPage(...r)),disabled:s.currentPage===1},"上一页",8,st),(n(!0),c(O,null,b(s.pageNumbers,(r,I)=>(n(),c("span",{key:I,class:F(["page-btn",{active:r===s.currentPage,ellipsis:r==="..."}]),onClick:P=>r!=="..."&&s.goPage(r)},u(r),11,rt))),128)),o("button",{onClick:i[1]||(i[1]=(...r)=>s.nextPage&&s.nextPage(...r)),disabled:s.currentPage===s.totalPages},"下一页",8,ot)])],64)}const nt=x(H,[["render",it],["__scopeId","data-v-57d00229"]]);export{nt as default};
