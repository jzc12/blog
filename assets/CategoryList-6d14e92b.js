import{av as x,aw as f,ax as A,ay as w,o as d,c,az as o,aA as V,aB as u,aC as B,aD as M,aE as R,aF as N,aG as O,aH as b,aI as e,aJ as z,aK as Y,aL as j}from"./index-d6d76f91.js";import{f as F}from"./index-fa63595b.js";const S={name:"CategoryList",setup(){const p=f([]),i=f(!0),E=f(0),a=f(1),h=f(6),g=A(()=>[...p.value].sort((s,l)=>{const _=new Date(l.date)-new Date(s.date);return _!==0?_:s.title.localeCompare(l.title)})),m=A(()=>Math.ceil(g.value.length/h.value)),r=A(()=>{const s=(a.value-1)*h.value;return g.value.slice(s,s+h.value)}),L=A(()=>{const s=[],l=m.value,_=a.value;if(l<=7)for(let n=1;n<=l;n++)s.push(n);else{s.push(1),_>4&&s.push("...");const n=Math.max(2,_-1),I=Math.min(l-1,_+1);for(let t=n;t<=I;t++)s.push(t);_<l-3&&s.push("..."),s.push(l)}return s}),P=s=>{s>=1&&s<=m.value&&(a.value=s)},k=()=>P(a.value-1),C=()=>P(a.value+1);return(async()=>{i.value=!0,E.value=0;try{const s=Object.assign({"/src/articles/Csharp.md":()=>e(()=>import("./Csharp-9745b8e3.js"),[]).then(t=>t.default),"/src/articles/adb.md":()=>e(()=>import("./adb-655c4d63.js"),[]).then(t=>t.default),"/src/articles/实习总结.md":()=>e(()=>import("./实习总结-f0ec00d1.js"),[]).then(t=>t.default),"/src/articles/操作系统_1.md":()=>e(()=>import("./操作系统_1-6dee6eb8.js"),[]).then(t=>t.default),"/src/articles/操作系统_2.md":()=>e(()=>import("./操作系统_2-888b6a3d.js"),[]).then(t=>t.default),"/src/articles/操作系统_3.md":()=>e(()=>import("./操作系统_3-dd217a91.js"),[]).then(t=>t.default),"/src/articles/操作系统_4.md":()=>e(()=>import("./操作系统_4-0865c0d5.js"),[]).then(t=>t.default),"/src/articles/操作系统_5.md":()=>e(()=>import("./操作系统_5-0f8df30e.js"),[]).then(t=>t.default),"/src/articles/球球了.md":()=>e(()=>import("./球球了-9a9756d3.js"),[]).then(t=>t.default),"/src/articles/线性代数.md":()=>e(()=>import("./线性代数-8b09059e.js"),[]).then(t=>t.default),"/src/articles/细碎知识.md":()=>e(()=>import("./细碎知识-3514ed75.js"),[]).then(t=>t.default),"/src/articles/计算机组成_1.md":()=>e(()=>import("./计算机组成_1-e2fceda2.js"),[]).then(t=>t.default),"/src/articles/计算机组成_2.md":()=>e(()=>import("./计算机组成_2-647377b6.js"),[]).then(t=>t.default),"/src/articles/计算机组成_3.md":()=>e(()=>import("./计算机组成_3-9a82acb1.js"),[]).then(t=>t.default),"/src/articles/计算机组成_4.md":()=>e(()=>import("./计算机组成_4-d370e22e.js"),[]).then(t=>t.default),"/src/articles/计算机组成_5.md":()=>e(()=>import("./计算机组成_5-45604507.js"),[]).then(t=>t.default),"/src/articles/计算机组成_6.md":()=>e(()=>import("./计算机组成_6-52629b8f.js"),[]).then(t=>t.default),"/src/articles/计算机网络_1.md":()=>e(()=>import("./计算机网络_1-3a67a6bb.js"),[]).then(t=>t.default),"/src/articles/计算机网络_3.md":()=>e(()=>import("./计算机网络_3-e1917128.js"),[]).then(t=>t.default),"/src/articles/计算机网络_4.md":()=>e(()=>import("./计算机网络_4-c81ef78b.js"),[]).then(t=>t.default),"/src/articles/计算机网络_5.md":()=>e(()=>import("./计算机网络_5-339381da.js"),[]).then(t=>t.default),"/src/articles/计算机网络_6.md":()=>e(()=>import("./计算机网络_6-c1d3ec6b.js"),[]).then(t=>t.default),"/src/articles/软件系统设计.md":()=>e(()=>import("./软件系统设计-d1a813aa.js"),[]).then(t=>t.default),"/src/articles/软件质量管理_1.md":()=>e(()=>import("./软件质量管理_1-4a727575.js"),[]).then(t=>t.default),"/src/articles/软件质量管理_2.md":()=>e(()=>import("./软件质量管理_2-df69909c.js"),[]).then(t=>t.default)}),l=Object.keys(s),_=l.length;let n=0;const I=await Promise.all(l.map(async t=>{try{const y=await s[t](),{attributes:v,body:T}=F(y),D=t.split("/").pop().replace(".md","");return y.trim().startsWith("---")?{id:D,title:v.title||D,date:v.updated?z(v.updated).format("YYYY-MM-DD"):"未知日期",category:v.category||"未分类",summary:v.summary||T.slice(0,100)+"..."}:{id:D,title:D,date:"未知日期",category:"未分类",summary:T.slice(0,100)+"..."}}catch(y){return console.error(`加载文章失败: ${t}`,y),null}finally{n++,E.value=Math.round(n/_*100)}}));p.value=I.filter(Boolean)}catch(s){console.error("加载文章列表失败:",s)}finally{i.value=!1}})(),{articles:p,loading:i,progress:E,sortedArticles:g,paginatedArticles:r,currentPage:a,totalPages:m,pageNumbers:L,goPage:P,prevPage:k,nextPage:C}}},G={class:"category-container"},H={key:0,class:"loading-box"},J={class:"loading-text"},K={class:"progress-bar"},W={key:1,class:"category-content"},q={class:"article-header"},Q={class:"article-title"},U={class:"category-tag"},X={class:"date-info"},Z={class:"summary"},$={key:2,class:"no-articles"},tt={class:"pagination"},et=["disabled"],at=["onClick"],st=["disabled"];function rt(p,i,E,a,h,g){const m=w("router-link");return d(),c(O,null,[o("div",G,[a.loading?(d(),c("div",H,[o("div",J,[i[2]||(i[2]=o("i",{class:"fas fa-circle-notch"},null,-1)),V(" 正在加载文章："+u(a.progress)+"% ",1)]),o("div",K,[o("div",{class:"progress",style:B({width:a.progress+"%"})},null,4)])])):a.articles.length?(d(),c("div",W,[M(N,{name:"list",tag:"div",class:"article-list"},{default:R(()=>[(d(!0),c(O,null,b(a.paginatedArticles,r=>(d(),Y(m,{key:r.id,to:{name:"article",params:{articleId:r.id}},class:"article-item"},{default:R(()=>[o("div",q,[o("h3",Q,u(r.title||r.id),1),o("div",U,[i[3]||(i[3]=o("i",{class:"fas fa-tag"},null,-1)),V(" "+u(r.category),1)]),o("div",X,[i[4]||(i[4]=o("i",{class:"far fa-calendar-alt"},null,-1)),o("span",null,u(r.date),1)])]),o("p",Z,u(r.summary),1)]),_:2},1032,["to"]))),128))]),_:1})])):(d(),c("div",$,i[5]||(i[5]=[o("i",{class:"far fa-folder-open"},null,-1),V(" 暂无文章 ")])))]),o("div",tt,[o("button",{onClick:i[0]||(i[0]=(...r)=>a.prevPage&&a.prevPage(...r)),disabled:a.currentPage===1},"上一页",8,et),(d(!0),c(O,null,b(a.pageNumbers,(r,L)=>(d(),c("span",{key:L,class:j(["page-btn",{active:r===a.currentPage,ellipsis:r==="..."}]),onClick:P=>r!=="..."&&a.goPage(r)},u(r),11,at))),128)),o("button",{onClick:i[1]||(i[1]=(...r)=>a.nextPage&&a.nextPage(...r)),disabled:a.currentPage===a.totalPages},"下一页",8,st)])],64)}const _t=x(S,[["render",rt],["__scopeId","data-v-16a5606d"]]);export{_t as default};
