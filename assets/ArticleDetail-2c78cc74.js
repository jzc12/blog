import{av as V,aw as I,b3 as C,aM as T,b4 as k,b5 as P,b6 as L,ay as O,b7 as R,o as s,c as d,az as n,aO as E,aK as y,b8 as f,aB as D,aQ as w,aD as g,aE as M,aG as t,aH as h,b9 as x,ba as B,bb as Y,bc as q}from"./index-3fea0a0e.js";import{f as S}from"./index-f3dacfc1.js";const j=(_,c)=>{const i=_[c];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((o,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+c)))})};function A(_,c="copy"){const i=c==="circleCheck"?Y:q,o=document.createElement("span");x({render:()=>B(i,{size:16})}).mount(o),_.innerHTML="",_.appendChild(o.firstElementChild)}const H={name:"ArticleDetail",emits:["content-loaded"],setup(_,{emit:c}){const i=I(null),o=I(0),l=C(),b=async e=>{try{const a=await j(Object.assign({"../articles/Csharp.md":()=>t(()=>import("./Csharp-91d2eaa8.js"),[]),"../articles/adb.md":()=>t(()=>import("./adb-655c4d63.js"),[]),"../articles/实习随笔.md":()=>t(()=>import("./实习随笔-b2f47dcd.js"),[]),"../articles/操作系统_1.md":()=>t(()=>import("./操作系统_1-7ba0baf3.js"),[]),"../articles/操作系统_2.md":()=>t(()=>import("./操作系统_2-888b6a3d.js"),[]),"../articles/操作系统_3.md":()=>t(()=>import("./操作系统_3-dd217a91.js"),[]),"../articles/操作系统_4.md":()=>t(()=>import("./操作系统_4-0865c0d5.js"),[]),"../articles/操作系统_5.md":()=>t(()=>import("./操作系统_5-0f8df30e.js"),[]),"../articles/球球了.md":()=>t(()=>import("./球球了-9a9756d3.js"),[]),"../articles/线性代数.md":()=>t(()=>import("./线性代数-8b09059e.js"),[]),"../articles/细碎知识.md":()=>t(()=>import("./细碎知识-3514ed75.js"),[]),"../articles/计算机网络_1.md":()=>t(()=>import("./计算机网络_1-196dbe31.js"),[]),"../articles/计算机网络_3.md":()=>t(()=>import("./计算机网络_3-073e4fda.js"),[]),"../articles/软件系统设计.md":()=>t(()=>import("./软件系统设计-d1a813aa.js"),[]),"../articles/软件质量管理_1.md":()=>t(()=>import("./软件质量管理_1-4a727575.js"),[]),"../articles/软件质量管理_2.md":()=>t(()=>import("./软件质量管理_2-df69909c.js"),[])}),`../articles/${e}.md`),{attributes:r,body:p}=S(a.default),u=p.replace(/\.\/\.\.\/\.\.\/public\/assets\//g,"/blog/assets/");return{id:e,title:r.title||e,date:h(r.date).format("YYYY-MM-DD")||"未知日期",updated:h(r.updated).format("YYYY-MM-DD")||"未知更新时间",category:r.category||"未分类",content:u.trim()}}catch(a){return console.error("解析文章失败:",a.message,a.stack),{id:e,title:e,date:"未知日期",updated:"未知更新时间",category:"未分类",content:""}}},m=()=>{document.querySelectorAll(".copy-button").forEach(a=>{const r=a.querySelector(".icon");r&&A(r),a.addEventListener("click",async()=>{const p=a.closest(".code-block-wrapper"),u=Array.from(p.querySelectorAll(".code-content")).map(v=>v.textContent).join(`
`);try{await navigator.clipboard.writeText(u),a.setAttribute("data-copied","true"),r&&A(r,"circleCheck"),setTimeout(()=>{a.setAttribute("data-copied","false"),r&&A(r)},2e3)}catch(v){console.error("复制失败:",v)}})})};return T(async()=>{var a;const e=l.params.articleId;if(!e){console.error("无效的文章ID");return}try{i.value=await b(e),c("content-loaded",((a=i.value)==null?void 0:a.content)||""),await k(e),o.value=await P(e),m()}catch(r){console.error("加载文章失败:",r)}}),{article:i,viewCount:o,iconMap:L}}},N={class:"article-container"},z={key:0,class:"article-meta"},G={class:"article-header"},K={class:"meta-info"},Q={class:"meta-item"},U={class:"date"},F={class:"meta-item"},J={class:"date"},W={class:"meta-item"},X={class:"date"},Z={class:"back-button-container"};function $(_,c,i,o,l,b){const m=O("router-link"),e=R("tooltip");return s(),d("div",N,[o.article?(s(),d("div",z,[n("div",G,[n("div",K,[E((s(),d("div",Q,[(s(),y(f(o.iconMap.calendar),{class:"icon"})),n("span",U,D(o.article.date),1)])),[[e,"创建日期"]]),E((s(),d("div",F,[(s(),y(f(o.iconMap.kanban),{class:"icon"})),n("span",J,D(o.article.category),1)])),[[e,"文章分类"]]),E((s(),d("div",W,[(s(),y(f(o.iconMap.eye),{class:"icon"})),n("span",X,D(o.viewCount),1)])),[[e,"阅读次数"]])])]),c[0]||(c[0]=n("div",{class:"article-divider"},null,-1))])):w("",!0),n("div",Z,[g(m,{to:"/category",class:"back-button"},{default:M(()=>c[1]||(c[1]=[n("span",null,"返回目录",-1)])),_:1,__:[1]})])])}const ot=V(H,[["render",$],["__scopeId","data-v-8f191ecc"]]);export{ot as default};
