<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Redirecting…</title>
    <script>
        (function () {
            // 保存当前完整路径
            var path = window.location.pathname;
            var query = window.location.search;
            var hash = window.location.hash;
            var fullPath = path + query + hash;
            sessionStorage.setItem('redirect', fullPath);

            // 判断当前是否运行在 GitHub Pages 的子路径
            var isGitHubPages = window.location.hostname.includes('github.io') || window.location.pathname.startsWith('/blog/');

            // 根据环境跳转到 SPA 入口页面
            var base = isGitHubPages ? '/blog/' : '/';
            window.location.replace(base);
        })();
    </script>
</head>

<body>
    <p>Redirecting…</p>
</body>

</html>